# API Endpoints Reference

This document lists the API endpoints found under `src/app/api` in this repository. For each endpoint we provide the route path, HTTP methods, implementation file path, and a short description.

> Generated by automated scan on 2025-10-29. Review details in source files for parameter shapes and authentication requirements.

## How to read this
- Path: Public URL path relative to site root.
- Methods: HTTP methods implemented by the route file.
- File: Implementation file in the repo.
- Description: Short summary of purpose and auth expectations.

---

## Python Coding Lab
- Path: `/api/python-coding-lab/tasks`
  - Methods: GET
  - File: `src/app/api/python-coding-lab/tasks/route.ts`
  - Description: List Python tasks (filtered by difficulty/category). Requires `studentId` query parameter.

- Path: `/api/python-coding-lab/tasks/[slug]`
  - Methods: GET
  - File: `src/app/api/python-coding-lab/tasks/[slug]/route.ts`
  - Description: Get task by slug. Requires `studentId` query parameter; returns task with (non-hidden) test cases and recent submissions.

- Path: `/api/python-coding-lab/submit`
  - Methods: POST
  - File: `src/app/api/python-coding-lab/submit/route.ts`
  - Description: Submit Python code for evaluation (Judge0). Expects body `{ taskId, code, studentId }`.

- Path: `/api/python-coding-lab/submissions`
  - Methods: GET
  - File: `src/app/api/python-coding-lab/submissions/route.ts`
  - Description: Get student's Python submission history (query: `studentId`, optional `taskId`).

- Path: `/api/python-coding-lab/debug-session`
  - Methods: GET
  - File: `src/app/api/python-coding-lab/debug-session/route.ts`
  - Description: Internal debug endpoint for testing Judge0/session behavior.


## Sessions / Quizzes
- Path: `/api/sessions`
  - Methods: GET, POST
  - File: `src/app/api/sessions/route.ts`
  - Description: Admin endpoints to list and create quiz sessions. Requires admin NextAuth session.

- Path: `/api/sessions/[code]`
  - Methods: GET
  - File: `src/app/api/sessions/[code]/route.ts`
  - Description: Get session details by code (includes quiz, leaderboard, current question). Admins see full data.

- Path: `/api/sessions/[code]/start`
  - Methods: POST
  - File: `src/app/api/sessions/[code]/start/route.ts`
  - Description: Start a scheduled session (admin only).

- Path: `/api/sessions/[code]/next`
  - Methods: POST
  - File: `src/app/api/sessions/[code]/next/route.ts`
  - Description: Advance session to next question (admin only).

- Path: `/api/sessions/[code]/submit`
  - Methods: POST
  - File: `src/app/api/sessions/[code]/submit/route.ts`
  - Description: Submit an answer to a session question (participants/students). Handles grading and participant creation.

- Path: `/api/sessions/[code]/finish`
  - Methods: POST
  - File: `src/app/api/sessions/[code]/finish/route.ts`
  - Description: Finish a session (admin action).

- Path: `/api/sessions/[code]/join`
  - Methods: POST
  - File: `src/app/api/sessions/[code]/join/route.ts`
  - Description: Participant join endpoint to register display name or participant.


## Coding Lab (legacy + admin)
- Path: `/api/coding-lab`
  - Methods: GET
  - File: `src/app/api/coding-lab/route.ts`
  - Description: List coding lab metadata and available labs.

- Path: `/api/coding-lab/tasks`
  - Methods: GET
  - File: `src/app/api/coding-lab/tasks/route.ts`
  - Description: List coding tasks (legacy upload/zip system).

- Path: `/api/coding-lab/[labId]`
  - Methods: GET
  - File: `src/app/api/coding-lab/[labId]/route.ts`
  - Description: Get lab detail by ID.

- Path: `/api/coding-lab/[labId]/exercises`
  - Methods: GET
  - File: `src/app/api/coding-lab/[labId]/exercises/route.ts`
  - Description: List exercises in a lab.

- Path: `/api/coding-lab/exercises/[exerciseId]/test-cases`
  - Methods: GET
  - File: `src/app/api/coding-lab/exercises/[exerciseId]/test-cases/route.ts`
  - Description: Get test cases for an exercise (admin/teacher facing).

- Path: `/api/coding-lab/submissions`
  - Methods: GET
  - File: `src/app/api/coding-lab/submissions/route.ts`
  - Description: List coding lab submissions (student or admin views depending on auth).

- Path: `/api/coding-lab/submissions/[id]`
  - Methods: GET
  - File: `src/app/api/coding-lab/submissions/[id]/route.ts`
  - Description: Get specific submission detail.

- Path: `/api/coding-lab/submissions/[id]/evaluate`
  - Methods: POST
  - File: `src/app/api/coding-lab/submissions/[id]/evaluate/route.ts`
  - Description: Trigger evaluation of a submission (admin/evaluator).

- Path: `/api/coding-lab/submissions/[id]/submit`
  - Methods: POST
  - File: `src/app/api/coding-lab/submissions/[id]/submit/route.ts`
  - Description: Submit files/uploads for a submission.

- Path: `/api/coding-lab/submissions/[id]/upload`
  - Methods: POST
  - File: `src/app/api/coding-lab/submissions/[id]/upload/route.ts`
  - Description: Upload file assets for a submission (ZIP handler).

- Path: `/api/coding-lab/submissions/[id]/versions`
  - Methods: GET
  - File: `src/app/api/coding-lab/submissions/[id]/versions/route.ts`
  - Description: List versions for a submission.

- Path: `/api/coding-lab/submissions/admin`
  - Methods: GET
  - File: `src/app/api/coding-lab/submissions/admin/route.ts`
  - Description: Admin view of submissions for moderation/evaluation.


## Tutorial / Articles / Projects
- Path: `/api/tutorial/articles`
  - Methods: GET, POST
  - File: `src/app/api/tutorial/articles/route.ts`
  - Description: List and create tutorial articles (admin for create).

- Path: `/api/tutorial/articles/[id]`
  - Methods: GET
  - File: `src/app/api/tutorial/articles/[id]/route.ts`
  - Description: Get article detail.

- Path: `/api/tutorial/projects`
  - Methods: GET, POST
  - File: `src/app/api/tutorial/projects/route.ts`
  - Description: List and create tutorial projects.

- Path: `/api/tutorial/projects/[id]`
  - Methods: GET
  - File: `src/app/api/tutorial/projects/[id]/route.ts`
  - Description: Get project detail.

- Path: `/api/tutorial/feedback`
  - Methods: POST
  - File: `src/app/api/tutorial/feedback/route.ts`
  - Description: Submit feedback related to tutorials or projects.

- Path: `/api/tutorial/submissions`
  - Methods: GET, POST
  - File: `src/app/api/tutorial/submissions/route.ts`
  - Description: Tutorial project submissions listing and creation.

- Path: `/api/tutorial/submissions/[id]`
  - Methods: GET
  - File: `src/app/api/tutorial/submissions/[id]/route.ts`
  - Description: Get tutorial submission by id.


## Admin namespace (`/api/admin`)
- Path: `/api/admin/students`
  - Methods: GET
  - File: `src/app/api/admin/students/route.ts`
  - Description: Admin listing of students.

- Path: `/api/admin/activities`
  - Methods: GET, POST
  - File: `src/app/api/admin/activities/route.ts`
  - Description: Admin activity CRUD.

- Path: `/api/admin/activities/active`
  - Methods: GET
  - File: `src/app/api/admin/activities/active/route.ts`
  - Description: Count/list active activities.

- Path: `/api/admin/gallery`
  - Methods: GET, POST
  - File: `src/app/api/admin/gallery/route.ts`
  - Description: Admin gallery management.

- Path: `/api/admin/contacts`
  - Methods: GET
  - File: `src/app/api/admin/contacts/route.ts`
  - Description: Admin view of contact messages.

- Path: `/api/admin/contacts/[id]`
  - Methods: GET
  - File: `src/app/api/admin/contacts/[id]/route.ts`
  - Description: Get a single contact message.

- Path: `/api/admin/profile`
  - Methods: GET
  - File: `src/app/api/admin/profile/route.ts`
  - Description: Admin profile info.

- Path: `/api/admin/change-password`
  - Methods: POST
  - File: `src/app/api/admin/change-password/route.ts`
  - Description: Admin password change endpoint.

- Path: `/api/admin/settings`
  - Methods: GET, PUT
  - File: `src/app/api/admin/settings/route.ts`
  - Description: Admin site settings.

- Path: `/api/admin/registrations`
  - Methods: GET
  - File: `src/app/api/admin/registrations/route.ts`
  - Description: Admin view of user registrations.

- Path: `/api/admin/users`
  - Methods: GET
  - File: `src/app/api/admin/users/route.ts`
  - Description: Admin user management.

- Path: `/api/admin/announcements`
  - Methods: GET, POST
  - File: `src/app/api/admin/announcements/route.ts`
  - Description: Manage site announcements.

- Path: `/api/admin/web-lab`
  - Methods: GET, POST
  - File: `src/app/api/admin/web-lab/route.ts`
  - Description: Admin web-lab management endpoints and subroutes for evaluations.

- Path: `/api/admin/web-lab/[id]`
  - Methods: GET
  - File: `src/app/api/admin/web-lab/[id]/route.ts`
  - Description: Get web-lab submission details per id.

- Path: `/api/admin/web-lab/[id]/submission/[submissionId]`
  - Methods: GET
  - File: `src/app/api/admin/web-lab/[id]/submission/[submissionId]/route.ts`
  - Description: Admin access to a specific web lab submission.


## Chat / Notifications
- Path: `/api/chat/send`
  - Methods: POST
  - File: `src/app/api/chat/send/route.ts`
  - Description: Send chat messages (internal/chat subsystem).

- Path: `/api/chat/sessions`
  - Methods: GET, POST
  - File: `src/app/api/chat/sessions/route.ts`
  - Description: Chat sessions listing and creation.

- Path: `/api/chat/admin-reply`
  - Methods: POST
  - File: `src/app/api/chat/admin-reply/route.ts`
  - Description: Admin reply to chat messages.

- Path: `/api/chat/sse`
  - Methods: GET
  - File: `src/app/api/chat/sse/route.ts`
  - Description: Server-Sent Events stream for chat/notifications.


## Discussion / Forum
- Path: `/api/discussion/threads`
  - Methods: GET, POST
  - File: `src/app/api/discussion/threads/route.ts`
  - Description: List and create discussion threads.

- Path: `/api/discussion/threads/[id]`
  - Methods: GET
  - File: `src/app/api/discussion/threads/[id]/route.ts`
  - Description: Get thread details and metadata.

- Path: `/api/discussion/replies`
  - Methods: POST
  - File: `src/app/api/discussion/replies/route.ts`
  - Description: Post a reply to a thread.


## Auth / Registration
- Path: `/api/auth/[...nextauth]`
  - Methods: GET, POST
  - File: `src/app/api/auth/[...nextauth]/route.ts`
  - Description: NextAuth handler for admin authentication (NextAuth routes).

- Path: `/api/auth/student-login`
  - Methods: POST
  - File: `src/app/api/auth/student-login/route.ts`
  - Description: Custom student login endpoint (local auth). Expects `{ studentId, password }`.

- Path: `/api/auth/register`
  - Methods: POST
  - File: `src/app/api/auth/register/route.ts`
  - Description: Student registration endpoint.

- Path: `/api/auth-debug`
  - Methods: GET
  - File: `src/app/api/auth-debug/route.ts`
  - Description: Debug helper returning NextAuth session and admin list (dev only).


## Seed / Maintenance
- Path: `/api/seed`
  - Methods: POST
  - File: `src/app/api/seed/route.ts`
  - Description: High-level seed script for admins (creates admin, announcements, activities).

- Path: `/api/seed/roadmap`
  - Methods: POST
  - File: `src/app/api/seed/roadmap/route.ts`
  - Description: Seed predefined roadmap stages and classroom checklist.

- Path: `/api/seed/students`
  - Methods: POST
  - File: `src/app/api/seed/students/route.ts`
  - Description: Seed sample student accounts (requires seed secret).

- Path: `/api/seed/classroom`
  - Methods: POST
  - File: `src/app/api/seed/classroom/route.ts`
  - Description: Seed classroom roadmap data.

- Path: `/api/seed/assignments`
  - Methods: POST
  - File: `src/app/api/seed/assignments/route.ts`
  - Description: Seed sample assignments.


## Upload / Cloudinary
- Path: `/api/upload`
  - Methods: POST
  - File: `src/app/api/upload/route.ts`
  - Description: Cloudinary signature generation for direct uploads (POST returns signature).


## Public / Landing
- Path: `/api/public`
  - Methods: GET
  - File: `src/app/api/public/route.ts`
  - Description: Public data for landing page (activities, announcements, gallery, stats).

- Path: `/api/contact`
  - Methods: GET, POST, PATCH, DELETE
  - File: `src/app/api/contact/route.ts`
  - Description: Public contact form and admin management of contact messages.

- Path: `/api/test-login`
  - Methods: POST
  - File: `src/app/api/test-login/route.ts`
  - Description: Admin login test helper (debug)


## Student features
- Path: `/api/student/web-lab`
  - Methods: GET
  - File: `src/app/api/student/web-lab/route.ts`
  - Description: Student view of Web-Lab labs and exercises.

- Path: `/api/student/web-lab/[id]`
  - Methods: GET
  - File: `src/app/api/student/web-lab/[id]/route.ts`
  - Description: Get a specific web-lab by id.

- Path: `/api/student/web-lab/submissions`
  - Methods: GET
  - File: `src/app/api/student/web-lab/submissions/route.ts`
  - Description: Student's submissions for web-lab exercises (recent etc.).

- Path: `/api/student/preferences`
  - Methods: GET, PUT
  - File: `src/app/api/student/preferences/route.ts`
  - Description: Get and update student preferences (stubbed default implementation).

- Path: `/api/student/change-password`
  - Methods: POST
  - File: `src/app/api/student/change-password/route.ts`
  - Description: Change student password (requires current password verification).

- Path: `/api/student/profile`
  - Methods: GET, PUT
  - File: `src/app/api/student/profile/route.ts`
  - Description: Get and update student profile data.

- Path: `/api/student/coding-lab/progress`
  - Methods: GET
  - File: `src/app/api/student/coding-lab/progress/route.ts`
  - Description: Student coding-lab progress summary.

- Path: `/api/student/coding-lab/submissions/recent`
  - Methods: GET
  - File: `src/app/api/student/coding-lab/submissions/recent/route.ts`
  - Description: Recent coding-lab submissions (last 10).

- Path: `/api/student/dashboard`
  - Methods: GET
  - File: `src/app/api/student/dashboard/route.ts`
  - Description: Aggregated student dashboard data (assignments, submissions, progress).


---

## Notes & next steps
- The repository contains ~180 route files. This document includes the main, commonly-used endpoints and groups but not every very small helper; consult `src/app/api` for full coverage.
- Some endpoints require NextAuth admin session; others use custom student auth (studentId via body/query).
- If you'd like, I can:
  - Expand this doc into a full machine-readable OpenAPI spec.
  - Include sample request/response payloads for critical endpoints (e.g. `/api/python-coding-lab/submit`).
  - Generate a smaller, printable CSV of endpoints.

---

Generated by automation.
